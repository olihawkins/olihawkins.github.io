var dn=Object.defineProperty;var gn=(e,t,n)=>t in e?dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Te=(e,t,n)=>(gn(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function J(){}function Gt(e){return e()}function rt(){return Object.create(null)}function ne(e){e.forEach(Gt)}function jt(e){return typeof e=="function"}function Ht(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function mn(e){return Object.keys(e).length===0}function G(e,t){e.appendChild(t)}function W(e,t,n){e.insertBefore(t,n||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function He(e){return document.createElement(e)}function q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function De(e){return document.createTextNode(e)}function yn(){return De(" ")}function it(){return De("")}function ot(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function wn(e){return Array.from(e.childNodes)}let se;function le(e){se=e}function xn(){if(!se)throw new Error("Function called outside component initialization");return se}function _n(e){xn().$$.on_mount.push(e)}const U=[],qe=[];let Q=[];const at=[],vn=Promise.resolve();let ze=!1;function bn(){ze||(ze=!0,vn.then(qt))}function Fe(e){Q.push(e)}const Oe=new Set;let X=0;function qt(){if(X!==0)return;const e=se;do{try{for(;X<U.length;){const t=U[X];X++,le(t),Mn(t.$$)}}catch(t){throw U.length=0,X=0,t}for(le(null),U.length=0,X=0;qe.length;)qe.pop()();for(let t=0;t<Q.length;t+=1){const n=Q[t];Oe.has(n)||(Oe.add(n),n())}Q.length=0}while(U.length);for(;at.length;)at.pop()();ze=!1,Oe.clear(),le(e)}function Mn(e){if(e.fragment!==null){e.update(),ne(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Fe)}}function Nn(e){const t=[],n=[];Q.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Q=t}const Me=new Set;let kn;function Ve(e,t){e&&e.i&&(Me.delete(e),e.i(t))}function $n(e,t,n,r){if(e&&e.o){if(Me.has(e))return;Me.add(e),kn.c.push(()=>{Me.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function j(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ye(e,t){e.d(1),t.delete(e.key)}function we(e,t,n,r,i,o,a,l,f,s,c,u){let h=e.length,g=o.length,m=h;const d={};for(;m--;)d[e[m].key]=m;const x=[],y=new Map,b=new Map,$=[];for(m=g;m--;){const k=u(i,o,m),p=n(k);let w=a.get(p);w?r&&$.push(()=>w.p(k,t)):(w=s(p,k),w.c()),y.set(p,x[m]=w),p in d&&b.set(p,Math.abs(m-d[p]))}const N=new Set,A=new Set;function L(k){Ve(k,1),k.m(l,c),a.set(k.key,k),c=k.first,g--}for(;h&&g;){const k=x[g-1],p=e[h-1],w=k.key,v=p.key;k===p?(c=k.first,h--,g--):y.has(v)?!a.has(w)||N.has(w)?L(k):A.has(v)?h--:b.get(w)>b.get(v)?(A.add(w),L(k)):(N.add(v),h--):(f(p,a),h--)}for(;h--;){const k=e[h];y.has(k.key)||f(k,a)}for(;g;)L(x[g-1]);return ne($),x}function An(e){e&&e.c()}function zt(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),Fe(()=>{const o=e.$$.on_mount.map(Gt).filter(jt);e.$$.on_destroy?e.$$.on_destroy.push(...o):ne(o),e.$$.on_mount=[]}),i.forEach(Fe)}function Ft(e,t){const n=e.$$;n.fragment!==null&&(Nn(n.after_update),ne(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Sn(e,t){e.$$.dirty[0]===-1&&(U.push(e),bn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Bt(e,t,n,r,i,o,a=null,l=[-1]){const f=se;le(e);const s=e.$$={fragment:null,ctx:[],props:o,update:J,not_equal:i,bound:rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:rt(),dirty:l,skip_bound:!1,root:t.target||f.$$.root};a&&a(s.root);let c=!1;if(s.ctx=n?n(e,t.props||{},(u,h,...g)=>{const m=g.length?g[0]:h;return s.ctx&&i(s.ctx[u],s.ctx[u]=m)&&(!s.skip_bound&&s.bound[u]&&s.bound[u](m),c&&Sn(e,u)),h}):[],s.update(),c=!0,ne(s.before_update),s.fragment=r?r(s.ctx):!1,t.target){if(t.hydrate){const u=wn(t.target);s.fragment&&s.fragment.l(u),u.forEach(z)}else s.fragment&&s.fragment.c();t.intro&&Ve(e.$$.fragment),zt(e,t.target,t.anchor),qt()}le(f)}class Wt{constructor(){Te(this,"$$");Te(this,"$$set")}$destroy(){Ft(this,1),this.$destroy=J}$on(t,n){if(!jt(n))return J;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!mn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ln="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ln);function Ne(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kt(e){let t,n,r;e.length!==2?(t=Ne,n=(l,f)=>Ne(e(l),f),r=(l,f)=>e(l)-f):(t=e===Ne||e===Rn?e:En,n=e,r=e);function i(l,f,s=0,c=l.length){if(s<c){if(t(f,f)!==0)return c;do{const u=s+c>>>1;n(l[u],f)<0?s=u+1:c=u}while(s<c)}return s}function o(l,f,s=0,c=l.length){if(s<c){if(t(f,f)!==0)return c;do{const u=s+c>>>1;n(l[u],f)<=0?s=u+1:c=u}while(s<c)}return s}function a(l,f,s=0,c=l.length){const u=i(l,f,s,c-1);return u>s&&r(l[u-1],f)>-r(l[u],f)?u-1:u}return{left:i,center:a,right:o}}function En(){return 0}function Cn(e){return e===null?NaN:+e}const Pn=Kt(Ne),Dn=Pn.right;Kt(Cn).center;const In=Dn,Tn=Math.sqrt(50),On=Math.sqrt(10),Gn=Math.sqrt(2);function $e(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Tn?10:o>=On?5:o>=Gn?2:1;let l,f,s;return i<0?(s=Math.pow(10,-i)/a,l=Math.round(e*s),f=Math.round(t*s),l/s<e&&++l,f/s>t&&--f,s=-s):(s=Math.pow(10,i)*a,l=Math.round(e/s),f=Math.round(t/s),l*s<e&&++l,f*s>t&&--f),f<l&&.5<=n&&n<2?$e(e,t,n*2):[l,f,s]}function jn(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?$e(t,e,n):$e(e,t,n);if(!(o>=i))return[];const l=o-i+1,f=new Array(l);if(r)if(a<0)for(let s=0;s<l;++s)f[s]=(o-s)/-a;else for(let s=0;s<l;++s)f[s]=(o-s)*a;else if(a<0)for(let s=0;s<l;++s)f[s]=(i+s)/-a;else for(let s=0;s<l;++s)f[s]=(i+s)*a;return f}function Be(e,t,n){return t=+t,e=+e,n=+n,$e(e,t,n)[2]}function Hn(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Be(t,e,n):Be(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Yt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qe(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function pe(){}var fe=.7,Ae=1/fe,Z="\\s*([+-]?\\d+)\\s*",ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",T="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qn=/^#([0-9a-f]{3,8})$/,zn=new RegExp(`^rgb\\(${Z},${Z},${Z}\\)$`),Fn=new RegExp(`^rgb\\(${T},${T},${T}\\)$`),Bn=new RegExp(`^rgba\\(${Z},${Z},${Z},${ue}\\)$`),Wn=new RegExp(`^rgba\\(${T},${T},${T},${ue}\\)$`),Kn=new RegExp(`^hsl\\(${ue},${T},${T}\\)$`),Yn=new RegExp(`^hsla\\(${ue},${T},${T},${ue}\\)$`),lt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qe(pe,ce,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:st,formatHex:st,formatHex8:Xn,formatHsl:Un,formatRgb:ft,toString:ft});function st(){return this.rgb().formatHex()}function Xn(){return this.rgb().formatHex8()}function Un(){return Ut(this).formatHsl()}function ft(){return this.rgb().formatRgb()}function ce(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ut(t):n===3?new P(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xe(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xe(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zn.exec(e))?new P(t[1],t[2],t[3],1):(t=Fn.exec(e))?new P(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Bn.exec(e))?xe(t[1],t[2],t[3],t[4]):(t=Wn.exec(e))?xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Kn.exec(e))?pt(t[1],t[2]/100,t[3]/100,1):(t=Yn.exec(e))?pt(t[1],t[2]/100,t[3]/100,t[4]):lt.hasOwnProperty(e)?ut(lt[e]):e==="transparent"?new P(NaN,NaN,NaN,0):null}function ut(e){return new P(e>>16&255,e>>8&255,e&255,1)}function xe(e,t,n,r){return r<=0&&(e=t=n=NaN),new P(e,t,n,r)}function Vn(e){return e instanceof pe||(e=ce(e)),e?(e=e.rgb(),new P(e.r,e.g,e.b,e.opacity)):new P}function We(e,t,n,r){return arguments.length===1?Vn(e):new P(e,t,n,r??1)}function P(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Qe(P,We,Xt(pe,{brighter(e){return e=e==null?Ae:Math.pow(Ae,e),new P(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fe:Math.pow(fe,e),new P(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new P(B(this.r),B(this.g),B(this.b),Se(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ct,formatHex:ct,formatHex8:Qn,formatRgb:ht,toString:ht}));function ct(){return`#${F(this.r)}${F(this.g)}${F(this.b)}`}function Qn(){return`#${F(this.r)}${F(this.g)}${F(this.b)}${F((isNaN(this.opacity)?1:this.opacity)*255)}`}function ht(){const e=Se(this.opacity);return`${e===1?"rgb(":"rgba("}${B(this.r)}, ${B(this.g)}, ${B(this.b)}${e===1?")":`, ${e})`}`}function Se(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function B(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function F(e){return e=B(e),(e<16?"0":"")+e.toString(16)}function pt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new D(e,t,n,r)}function Ut(e){if(e instanceof D)return new D(e.h,e.s,e.l,e.opacity);if(e instanceof pe||(e=ce(e)),!e)return new D;if(e instanceof D)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,f=(o+i)/2;return l?(t===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-t)/l+2:a=(t-n)/l+4,l/=f<.5?o+i:2-o-i,a*=60):l=f>0&&f<1?0:a,new D(a,l,f,e.opacity)}function Zn(e,t,n,r){return arguments.length===1?Ut(e):new D(e,t,n,r??1)}function D(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Qe(D,Zn,Xt(pe,{brighter(e){return e=e==null?Ae:Math.pow(Ae,e),new D(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fe:Math.pow(fe,e),new D(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new P(Ge(e>=240?e-240:e+120,i,r),Ge(e,i,r),Ge(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new D(dt(this.h),_e(this.s),_e(this.l),Se(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Se(this.opacity);return`${e===1?"hsl(":"hsla("}${dt(this.h)}, ${_e(this.s)*100}%, ${_e(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dt(e){return e=(e||0)%360,e<0?e+360:e}function _e(e){return Math.max(0,Math.min(1,e||0))}function Ge(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ze=e=>()=>e;function Jn(e,t){return function(n){return e+n*t}}function er(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function tr(e){return(e=+e)==1?Vt:function(t,n){return n-t?er(t,n,e):Ze(isNaN(t)?n:t)}}function Vt(e,t){var n=t-e;return n?Jn(e,n):Ze(isNaN(e)?t:e)}const gt=function e(t){var n=tr(t);function r(i,o){var a=n((i=We(i)).r,(o=We(o)).r),l=n(i.g,o.g),f=n(i.b,o.b),s=Vt(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=l(c),i.b=f(c),i.opacity=s(c),i+""}}return r.gamma=e,r}(1);function nr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function rr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ir(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Je(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function or(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Le(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ar(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Je(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ke=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,je=new RegExp(Ke.source,"g");function lr(e){return function(){return e}}function sr(e){return function(t){return e(t)+""}}function fr(e,t){var n=Ke.lastIndex=je.lastIndex=0,r,i,o,a=-1,l=[],f=[];for(e=e+"",t=t+"";(r=Ke.exec(e))&&(i=je.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,f.push({i:a,x:Le(r,i)})),n=je.lastIndex;return n<t.length&&(o=t.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?f[0]?sr(f[0].x):lr(t):(t=f.length,function(s){for(var c=0,u;c<t;++c)l[(u=f[c]).i]=u.x(s);return l.join("")})}function Je(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ze(t):(n==="number"?Le:n==="string"?(r=ce(t))?(t=r,gt):fr:t instanceof ce?gt:t instanceof Date?or:rr(t)?nr:Array.isArray(t)?ir:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ar:Le)(e,t)}function ur(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function cr(e){return function(){return e}}function hr(e){return+e}var mt=[0,1];function I(e){return e}function Ye(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cr(isNaN(t)?NaN:.5)}function pr(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function dr(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Ye(i,r),o=n(a,o)):(r=Ye(r,i),o=n(o,a)),function(l){return o(r(l))}}function gr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Ye(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(l){var f=In(e,l,1,r)-1;return o[f](i[f](l))}}function Qt(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zt(){var e=mt,t=mt,n=Je,r,i,o,a=I,l,f,s;function c(){var h=Math.min(e.length,t.length);return a!==I&&(a=pr(e[0],e[h-1])),l=h>2?gr:dr,f=s=null,u}function u(h){return h==null||isNaN(h=+h)?o:(f||(f=l(e.map(r),t,n)))(r(a(h)))}return u.invert=function(h){return a(i((s||(s=l(t,e.map(r),Le)))(h)))},u.domain=function(h){return arguments.length?(e=Array.from(h,hr),c()):e.slice()},u.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},u.rangeRound=function(h){return t=Array.from(h),n=ur,c()},u.clamp=function(h){return arguments.length?(a=h?!0:I,c()):a!==I},u.interpolate=function(h){return arguments.length?(n=h,c()):n},u.unknown=function(h){return arguments.length?(o=h,u):o},function(h,g){return r=h,i=g,c()}}function mr(){return Zt()(I,I)}function yr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Re(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ee(e){return e=Re(Math.abs(e)),e?e[1]:NaN}function wr(e,t){return function(n,r){for(var i=n.length,o=[],a=0,l=e[0],f=0;i>0&&l>0&&(f+l+1>r&&(l=Math.max(1,r-f)),o.push(n.substring(i-=l,i+l)),!((f+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}function xr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ee(e){if(!(t=_r.exec(e)))throw new Error("invalid format: "+e);var t;return new et({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ee.prototype=et.prototype;function et(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}et.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vr(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Jt;function br(e,t){var n=Re(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Jt=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Re(e,Math.max(0,t+o-1))[0]}function yt(e,t){var n=Re(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wt={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yt(e*100,t),r:yt,s:br,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xt(e){return e}var _t=Array.prototype.map,vt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Mr(e){var t=e.grouping===void 0||e.thousands===void 0?xt:wr(_t.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?xt:xr(_t.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function s(u){u=Ee(u);var h=u.fill,g=u.align,m=u.sign,d=u.symbol,x=u.zero,y=u.width,b=u.comma,$=u.precision,N=u.trim,A=u.type;A==="n"?(b=!0,A="g"):wt[A]||($===void 0&&($=12),N=!0,A="g"),(x||h==="0"&&g==="=")&&(x=!0,h="0",g="=");var L=d==="$"?n:d==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",k=d==="$"?r:/[%p]/.test(A)?a:"",p=wt[A],w=/[defgprs%]/.test(A);$=$===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function v(M){var R=L,S=k,Y,nt,de;if(A==="c")S=p(M)+S,M="";else{M=+M;var ge=M<0||1/M<0;if(M=isNaN(M)?f:p(Math.abs(M),$),N&&(M=vr(M)),ge&&+M==0&&m!=="+"&&(ge=!1),R=(ge?m==="("?m:l:m==="-"||m==="("?"":m)+R,S=(A==="s"?vt[8+Jt/3]:"")+S+(ge&&m==="("?")":""),w){for(Y=-1,nt=M.length;++Y<nt;)if(de=M.charCodeAt(Y),48>de||de>57){S=(de===46?i+M.slice(Y+1):M.slice(Y))+S,M=M.slice(0,Y);break}}}b&&!x&&(M=t(M,1/0));var me=R.length+M.length+S.length,O=me<y?new Array(y-me+1).join(h):"";switch(b&&x&&(M=t(O+M,O.length?y-S.length:1/0),O=""),g){case"<":M=R+M+S+O;break;case"=":M=R+O+M+S;break;case"^":M=O.slice(0,me=O.length>>1)+R+M+S+O.slice(me);break;default:M=O+R+M+S;break}return o(M)}return v.toString=function(){return u+""},v}function c(u,h){var g=s((u=Ee(u),u.type="f",u)),m=Math.max(-8,Math.min(8,Math.floor(ee(h)/3)))*3,d=Math.pow(10,-m),x=vt[8+m/3];return function(y){return g(d*y)+x}}return{format:s,formatPrefix:c}}var ve,en,tn;Nr({thousands:",",grouping:[3],currency:["$",""]});function Nr(e){return ve=Mr(e),en=ve.format,tn=ve.formatPrefix,ve}function kr(e){return Math.max(0,-ee(Math.abs(e)))}function $r(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ee(t)/3)))*3-ee(Math.abs(e)))}function Ar(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ee(t)-ee(e))+1}function Sr(e,t,n,r){var i=Hn(e,t,n),o;switch(r=Ee(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=$r(i,a))&&(r.precision=o),tn(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ar(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=kr(i))&&(r.precision=o-(r.type==="%")*2);break}}return en(r)}function nn(e){var t=e.domain;return e.ticks=function(n){var r=t();return jn(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Sr(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],l=r[o],f,s,c=10;for(l<a&&(s=a,a=l,l=s,s=i,i=o,o=s);c-- >0;){if(s=Be(a,l,n),s===f)return r[i]=a,r[o]=l,t(r);if(s>0)a=Math.floor(a/s)*s,l=Math.ceil(l/s)*s;else if(s<0)a=Math.ceil(a*s)/s,l=Math.floor(l*s)/s;else break;f=s}return e},e}function ie(){var e=mr();return e.copy=function(){return Qt(e,ie())},Yt.apply(e,arguments),nn(e)}function bt(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lr(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Rr(e){return e<0?-e*e:e*e}function Er(e){var t=e(I,I),n=1;function r(){return n===1?e(I,I):n===.5?e(Lr,Rr):e(bt(n),bt(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},nn(t)}function rn(){var e=Er(Zt());return e.copy=function(){return Qt(e,rn()).exponent(e.exponent())},Yt.apply(e,arguments),e}function Cr(){return rn.apply(null,arguments).exponent(.5)}function Pr(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return on(this.cover(t,n),t,n,e)}function on(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,a={data:r},l=e._x0,f=e._y0,s=e._x1,c=e._y1,u,h,g,m,d,x,y,b;if(!o)return e._root=a,e;for(;o.length;)if((d=t>=(u=(l+s)/2))?l=u:s=u,(x=n>=(h=(f+c)/2))?f=h:c=h,i=o,!(o=o[y=x<<1|d]))return i[y]=a,e;if(g=+e._x.call(null,o.data),m=+e._y.call(null,o.data),t===g&&n===m)return a.next=o,i?i[y]=a:e._root=a,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(d=t>=(u=(l+s)/2))?l=u:s=u,(x=n>=(h=(f+c)/2))?f=h:c=h;while((y=x<<1|d)===(b=(m>=h)<<1|g>=u));return i[b]=o,i[y]=a,e}function Dr(e){var t,n,r=e.length,i,o,a=new Array(r),l=new Array(r),f=1/0,s=1/0,c=-1/0,u=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=i,l[n]=o,i<f&&(f=i),i>c&&(c=i),o<s&&(s=o),o>u&&(u=o));if(f>c||s>u)return this;for(this.cover(f,s).cover(c,u),n=0;n<r;++n)on(this,a[n],l[n],e[n]);return this}function Ir(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a=i-n||1,l=this._root,f,s;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,f=new Array(4),f[s]=l,l=f,a*=2,s){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Tr(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Or(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function E(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Gr(e,t,n){var r,i=this._x0,o=this._y0,a,l,f,s,c=this._x1,u=this._y1,h=[],g=this._root,m,d;for(g&&h.push(new E(g,i,o,c,u)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,u=t+n,n*=n);m=h.pop();)if(!(!(g=m.node)||(a=m.x0)>c||(l=m.y0)>u||(f=m.x1)<i||(s=m.y1)<o))if(g.length){var x=(a+f)/2,y=(l+s)/2;h.push(new E(g[3],x,y,f,s),new E(g[2],a,y,x,s),new E(g[1],x,l,f,y),new E(g[0],a,l,x,y)),(d=(t>=y)<<1|e>=x)&&(m=h[h.length-1],h[h.length-1]=h[h.length-1-d],h[h.length-1-d]=m)}else{var b=e-+this._x.call(null,g.data),$=t-+this._y.call(null,g.data),N=b*b+$*$;if(N<n){var A=Math.sqrt(n=N);i=e-A,o=t-A,c=e+A,u=t+A,r=g.data}}return r}function jr(e){if(isNaN(c=+this._x.call(null,e))||isNaN(u=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,a=this._x0,l=this._y0,f=this._x1,s=this._y1,c,u,h,g,m,d,x,y;if(!n)return this;if(n.length)for(;;){if((m=c>=(h=(a+f)/2))?a=h:f=h,(d=u>=(g=(l+s)/2))?l=g:s=g,t=n,!(n=n[x=d<<1|m]))return this;if(!n.length)break;(t[x+1&3]||t[x+2&3]||t[x+3&3])&&(r=t,y=x)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[x]=o:delete t[x],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function Hr(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function qr(){return this._root}function zr(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Fr(e){var t=[],n,r=this._root,i,o,a,l,f;for(r&&t.push(new E(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,a=n.y0,l=n.x1,f=n.y1)&&r.length){var s=(o+l)/2,c=(a+f)/2;(i=r[3])&&t.push(new E(i,s,c,l,f)),(i=r[2])&&t.push(new E(i,o,c,s,f)),(i=r[1])&&t.push(new E(i,s,a,l,c)),(i=r[0])&&t.push(new E(i,o,a,s,c))}return this}function Br(e){var t=[],n=[],r;for(this._root&&t.push(new E(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,a=r.x0,l=r.y0,f=r.x1,s=r.y1,c=(a+f)/2,u=(l+s)/2;(o=i[0])&&t.push(new E(o,a,l,c,u)),(o=i[1])&&t.push(new E(o,c,l,f,u)),(o=i[2])&&t.push(new E(o,a,u,c,s)),(o=i[3])&&t.push(new E(o,c,u,f,s))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Wr(e){return e[0]}function Kr(e){return arguments.length?(this._x=e,this):this._x}function Yr(e){return e[1]}function Xr(e){return arguments.length?(this._y=e,this):this._y}function an(e,t,n){var r=new tt(t??Wr,n??Yr,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function tt(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Mt(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var C=an.prototype=tt.prototype;C.copy=function(){var e=new tt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Mt(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Mt(r));return e};C.add=Pr;C.addAll=Dr;C.cover=Ir;C.data=Tr;C.extent=Or;C.find=Gr;C.remove=jr;C.removeAll=Hr;C.root=qr;C.size=zr;C.visit=Fr;C.visitAfter=Br;C.x=Kr;C.y=Xr;function V(e){return function(){return e}}function Nt(e){return(e()-.5)*1e-6}function Ur(e){return e.x+e.vx}function Vr(e){return e.y+e.vy}function Qr(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=V(e==null?1:+e));function a(){for(var s,c=t.length,u,h,g,m,d,x,y=0;y<o;++y)for(u=an(t,Ur,Vr).visitAfter(l),s=0;s<c;++s)h=t[s],d=n[h.index],x=d*d,g=h.x+h.vx,m=h.y+h.vy,u.visit(b);function b($,N,A,L,k){var p=$.data,w=$.r,v=d+w;if(p){if(p.index>h.index){var M=g-p.x-p.vx,R=m-p.y-p.vy,S=M*M+R*R;S<v*v&&(M===0&&(M=Nt(r),S+=M*M),R===0&&(R=Nt(r),S+=R*R),S=(v-(S=Math.sqrt(S)))/S*i,h.vx+=(M*=S)*(v=(w*=w)/(x+w)),h.vy+=(R*=S)*v,p.vx-=M*(v=1-v),p.vy-=R*v)}return}return N>g+v||L<g-v||A>m+v||k<m-v}}function l(s){if(s.data)return s.r=n[s.data.index];for(var c=s.r=0;c<4;++c)s[c]&&s[c].r>s.r&&(s.r=s[c].r)}function f(){if(t){var s,c=t.length,u;for(n=new Array(c),s=0;s<c;++s)u=t[s],n[u.index]=+e(u,s,t)}}return a.initialize=function(s,c){t=s,r=c,f()},a.iterations=function(s){return arguments.length?(o=+s,a):o},a.strength=function(s){return arguments.length?(i=+s,a):i},a.radius=function(s){return arguments.length?(e=typeof s=="function"?s:V(+s),f(),a):e},a}var Zr={value:()=>{}};function ln(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ke(n)}function ke(e){this._=e}function Jr(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ke.prototype=ln.prototype={constructor:ke,on:function(e,t){var n=this._,r=Jr(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=ei(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=kt(n[i],e.name,t);else if(t==null)for(i in n)n[i]=kt(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ke(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function ei(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function kt(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Zr,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var te=0,oe=0,re=0,sn=1e3,Ce,ae,Pe=0,K=0,Ie=0,he=typeof performance=="object"&&performance.now?performance:Date,fn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function un(){return K||(fn(ti),K=he.now()+Ie)}function ti(){K=0}function Xe(){this._call=this._time=this._next=null}Xe.prototype=cn.prototype={constructor:Xe,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?un():+n)+(t==null?0:+t),!this._next&&ae!==this&&(ae?ae._next=this:Ce=this,ae=this),this._call=e,this._time=n,Ue()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ue())}};function cn(e,t,n){var r=new Xe;return r.restart(e,t,n),r}function ni(){un(),++te;for(var e=Ce,t;e;)(t=K-e._time)>=0&&e._call.call(void 0,t),e=e._next;--te}function $t(){K=(Pe=he.now())+Ie,te=oe=0;try{ni()}finally{te=0,ii(),K=0}}function ri(){var e=he.now(),t=e-Pe;t>sn&&(Ie-=t,Pe=e)}function ii(){for(var e,t=Ce,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ce=n);ae=e,Ue(r)}function Ue(e){if(!te){oe&&(oe=clearTimeout(oe));var t=e-K;t>24?(e<1/0&&(oe=setTimeout($t,e-he.now()-Ie)),re&&(re=clearInterval(re))):(re||(Pe=he.now(),re=setInterval(ri,sn)),te=1,fn($t))}}const oi=1664525,ai=1013904223,At=4294967296;function li(){let e=1;return()=>(e=(oi*e+ai)%At)/At}var si=10,fi=Math.PI*(3-Math.sqrt(5));function ui(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,l=new Map,f=cn(u),s=ln("tick","end"),c=li();e==null&&(e=[]);function u(){h(),s.call("tick",t),n<r&&(f.stop(),s.call("end",t))}function h(d){var x,y=e.length,b;d===void 0&&(d=1);for(var $=0;$<d;++$)for(n+=(o-n)*i,l.forEach(function(N){N(n)}),x=0;x<y;++x)b=e[x],b.fx==null?b.x+=b.vx*=a:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=a:(b.y=b.fy,b.vy=0);return t}function g(){for(var d=0,x=e.length,y;d<x;++d){if(y=e[d],y.index=d,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var b=si*Math.sqrt(.5+d),$=d*fi;y.x=b*Math.cos($),y.y=b*Math.sin($)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(d){return d.initialize&&d.initialize(e,c),d}return g(),t={tick:h,restart:function(){return f.restart(u),t},stop:function(){return f.stop(),t},nodes:function(d){return arguments.length?(e=d,g(),l.forEach(m),t):e},alpha:function(d){return arguments.length?(n=+d,t):n},alphaMin:function(d){return arguments.length?(r=+d,t):r},alphaDecay:function(d){return arguments.length?(i=+d,t):+i},alphaTarget:function(d){return arguments.length?(o=+d,t):o},velocityDecay:function(d){return arguments.length?(a=1-d,t):1-a},randomSource:function(d){return arguments.length?(c=d,l.forEach(m),t):c},force:function(d,x){return arguments.length>1?(x==null?l.delete(d):l.set(d,m(x)),t):l.get(d)},find:function(d,x,y){var b=0,$=e.length,N,A,L,k,p;for(y==null?y=1/0:y*=y,b=0;b<$;++b)k=e[b],N=d-k.x,A=x-k.y,L=N*N+A*A,L<y&&(p=k,y=L);return p},on:function(d,x){return arguments.length>1?(s.on(d,x),t):s.on(d)}}}function ci(e){var t=V(.1),n,r,i;typeof e!="function"&&(e=V(e==null?0:+e));function o(l){for(var f=0,s=n.length,c;f<s;++f)c=n[f],c.vx+=(i[f]-c.x)*r[f]*l}function a(){if(n){var l,f=n.length;for(r=new Array(f),i=new Array(f),l=0;l<f;++l)r[l]=isNaN(i[l]=+e(n[l],l,n))?0:+t(n[l],l,n)}}return o.initialize=function(l){n=l,a()},o.strength=function(l){return arguments.length?(t=typeof l=="function"?l:V(+l),a(),o):t},o.x=function(l){return arguments.length?(e=typeof l=="function"?l:V(+l),a(),o):e},o}const hi=[{pollster:"Deltapoll",date:"2023-10-30",sample:1546,party:"Conservative",share:.25,weight:39.3192,id:1,color:3,group:4},{pollster:"Redfield and Wilton",date:"2023-10-29",sample:2e3,party:"Conservative",share:.25,weight:40.4656,id:2,color:3,group:4},{pollster:"We Think",date:"2023-10-27",sample:1189,party:"Conservative",share:.26,weight:25.5448,id:3,color:3,group:4},{pollster:"Opinium",date:"2023-10-27",sample:1433,party:"Conservative",share:.27,weight:28.0437,id:4,color:3,group:4},{pollster:"Techne",date:"2023-10-26",sample:1630,party:"Conservative",share:.25,weight:27.063,id:5,color:3,group:4},{pollster:"YouGov",date:"2023-10-25",sample:2035,party:"Conservative",share:.24,weight:27.3612,id:6,color:3,group:4},{pollster:"PeoplePolling",date:"2023-10-23",sample:1906,party:"Conservative",share:.21,weight:21.6798,id:7,color:3,group:4},{pollster:"Savanta",date:"2023-10-22",sample:2279,party:"Conservative",share:.29,weight:21.4505,id:8,color:3,group:4},{pollster:"Ipsos",date:"2023-10-18",sample:1003,party:"Conservative",share:.24,weight:9.5389,id:9,color:3,group:4},{pollster:"More in Common",date:"2023-10-16",sample:2336,party:"Conservative",share:.3,weight:11.9186,id:10,color:3,group:4},{pollster:"BMG",date:"2023-10-12",sample:1591,party:"Conservative",share:.3,weight:6.5933,id:11,color:3,group:4},{pollster:"Survation",date:"2023-09-25",sample:11793,party:"Conservative",share:.291,weight:3.2793,id:12,color:3,group:4},{pollster:"Kantar",date:"2023-09-04",sample:1146,party:"Conservative",share:.27,weight:.1252,id:13,color:3,group:4},{pollster:"Deltapoll",date:"2023-10-30",sample:1546,party:"Labour",share:.46,weight:39.3192,id:14,color:4,group:5},{pollster:"Redfield and Wilton",date:"2023-10-29",sample:2e3,party:"Labour",share:.45,weight:40.4656,id:15,color:4,group:5},{pollster:"We Think",date:"2023-10-27",sample:1189,party:"Labour",share:.46,weight:25.5448,id:16,color:4,group:5},{pollster:"Opinium",date:"2023-10-27",sample:1433,party:"Labour",share:.42,weight:28.0437,id:17,color:4,group:5},{pollster:"Techne",date:"2023-10-26",sample:1630,party:"Labour",share:.46,weight:27.063,id:18,color:4,group:5},{pollster:"YouGov",date:"2023-10-25",sample:2035,party:"Labour",share:.48,weight:27.3612,id:19,color:4,group:5},{pollster:"PeoplePolling",date:"2023-10-23",sample:1906,party:"Labour",share:.49,weight:21.6798,id:20,color:4,group:5},{pollster:"Savanta",date:"2023-10-22",sample:2279,party:"Labour",share:.46,weight:21.4505,id:21,color:4,group:5},{pollster:"Ipsos",date:"2023-10-18",sample:1003,party:"Labour",share:.44,weight:9.5389,id:22,color:4,group:5},{pollster:"More in Common",date:"2023-10-16",sample:2336,party:"Labour",share:.42,weight:11.9186,id:23,color:4,group:5},{pollster:"BMG",date:"2023-10-12",sample:1591,party:"Labour",share:.43,weight:6.5933,id:24,color:4,group:5},{pollster:"Survation",date:"2023-09-25",sample:11793,party:"Labour",share:.457,weight:3.2793,id:25,color:4,group:5},{pollster:"Kantar",date:"2023-09-04",sample:1146,party:"Labour",share:.43,weight:.1252,id:26,color:4,group:5},{pollster:"Deltapoll",date:"2023-10-30",sample:1546,party:"Lib Dem",share:.11,weight:39.3192,id:27,color:2,group:3},{pollster:"Redfield and Wilton",date:"2023-10-29",sample:2e3,party:"Lib Dem",share:.13,weight:40.4656,id:28,color:2,group:3},{pollster:"We Think",date:"2023-10-27",sample:1189,party:"Lib Dem",share:.1,weight:25.5448,id:29,color:2,group:3},{pollster:"Opinium",date:"2023-10-27",sample:1433,party:"Lib Dem",share:.1,weight:28.0437,id:30,color:2,group:3},{pollster:"Techne",date:"2023-10-26",sample:1630,party:"Lib Dem",share:.11,weight:27.063,id:31,color:2,group:3},{pollster:"YouGov",date:"2023-10-25",sample:2035,party:"Lib Dem",share:.09,weight:27.3612,id:32,color:2,group:3},{pollster:"PeoplePolling",date:"2023-10-23",sample:1906,party:"Lib Dem",share:.09,weight:21.6798,id:33,color:2,group:3},{pollster:"Savanta",date:"2023-10-22",sample:2279,party:"Lib Dem",share:.1,weight:21.4505,id:34,color:2,group:3},{pollster:"Ipsos",date:"2023-10-18",sample:1003,party:"Lib Dem",share:.13,weight:9.5389,id:35,color:2,group:3},{pollster:"More in Common",date:"2023-10-16",sample:2336,party:"Lib Dem",share:.12,weight:11.9186,id:36,color:2,group:3},{pollster:"BMG",date:"2023-10-12",sample:1591,party:"Lib Dem",share:.11,weight:6.5933,id:37,color:2,group:3},{pollster:"Survation",date:"2023-09-25",sample:11793,party:"Lib Dem",share:.121,weight:3.2793,id:38,color:2,group:3},{pollster:"Kantar",date:"2023-09-04",sample:1146,party:"Lib Dem",share:.13,weight:.1252,id:39,color:2,group:3},{pollster:"Deltapoll",date:"2023-10-30",sample:1546,party:"Green",share:.06,weight:39.3192,id:40,color:0,group:1},{pollster:"Redfield and Wilton",date:"2023-10-29",sample:2e3,party:"Green",share:.06,weight:40.4656,id:41,color:0,group:1},{pollster:"We Think",date:"2023-10-27",sample:1189,party:"Green",share:.06,weight:25.5448,id:42,color:0,group:1},{pollster:"Opinium",date:"2023-10-27",sample:1433,party:"Green",share:.07,weight:28.0437,id:43,color:0,group:1},{pollster:"Techne",date:"2023-10-26",sample:1630,party:"Green",share:.05,weight:27.063,id:44,color:0,group:1},{pollster:"YouGov",date:"2023-10-25",sample:2035,party:"Green",share:.05,weight:27.3612,id:45,color:0,group:1},{pollster:"PeoplePolling",date:"2023-10-23",sample:1906,party:"Green",share:.07,weight:21.6798,id:46,color:0,group:1},{pollster:"Savanta",date:"2023-10-22",sample:2279,party:"Green",share:.03,weight:21.4505,id:47,color:0,group:1},{pollster:"Ipsos",date:"2023-10-18",sample:1003,party:"Green",share:.08,weight:9.5389,id:48,color:0,group:1},{pollster:"More in Common",date:"2023-10-16",sample:2336,party:"Green",share:.06,weight:11.9186,id:49,color:0,group:1},{pollster:"BMG",date:"2023-10-12",sample:1591,party:"Green",share:.06,weight:6.5933,id:50,color:0,group:1},{pollster:"Survation",date:"2023-09-25",sample:11793,party:"Green",share:.032,weight:3.2793,id:51,color:0,group:1},{pollster:"Kantar",date:"2023-09-04",sample:1146,party:"Green",share:.05,weight:.1252,id:52,color:0,group:1},{pollster:"Deltapoll",date:"2023-10-30",sample:1546,party:"Reform",share:.07,weight:39.3192,id:53,color:1,group:2},{pollster:"Redfield and Wilton",date:"2023-10-29",sample:2e3,party:"Reform",share:.07,weight:40.4656,id:54,color:1,group:2},{pollster:"We Think",date:"2023-10-27",sample:1189,party:"Reform",share:.07,weight:25.5448,id:55,color:1,group:2},{pollster:"Opinium",date:"2023-10-27",sample:1433,party:"Reform",share:.08,weight:28.0437,id:56,color:1,group:2},{pollster:"Techne",date:"2023-10-26",sample:1630,party:"Reform",share:.07,weight:27.063,id:57,color:1,group:2},{pollster:"YouGov",date:"2023-10-25",sample:2035,party:"Reform",share:.08,weight:27.3612,id:58,color:1,group:2},{pollster:"PeoplePolling",date:"2023-10-23",sample:1906,party:"Reform",share:.09,weight:21.6798,id:59,color:1,group:2},{pollster:"Savanta",date:"2023-10-22",sample:2279,party:"Reform",share:.05,weight:21.4505,id:60,color:1,group:2},{pollster:"Ipsos",date:"2023-10-18",sample:1003,party:"Reform",share:.04,weight:9.5389,id:61,color:1,group:2},{pollster:"More in Common",date:"2023-10-16",sample:2336,party:"Reform",share:.07,weight:11.9186,id:62,color:1,group:2},{pollster:"BMG",date:"2023-10-12",sample:1591,party:"Reform",share:.07,weight:6.5933,id:63,color:1,group:2},{pollster:"Survation",date:"2023-09-25",sample:11793,party:"Reform",share:.046,weight:3.2793,id:64,color:1,group:2},{pollster:"Kantar",date:"2023-09-04",sample:1146,party:"Reform",share:.04,weight:.1252,id:65,color:1,group:2}],be=[{date:"2023-10-30",party:"Conservative",value:.2557,lower:.2268,upper:.2844,id:1,color:3,y:4},{date:"2023-10-30",party:"Labour",value:.4554,lower:.4253,upper:.4854,id:2,color:4,y:5},{date:"2023-10-30",party:"Lib Dem",value:.1078,lower:.081,upper:.1347,id:3,color:2,y:3},{date:"2023-10-30",party:"Green",value:.0577,lower:.0321,upper:.0834,id:4,color:0,y:1},{date:"2023-10-30",party:"Reform",value:.0707,lower:.0449,upper:.0969,id:5,color:1,y:2}];function St(e,t,n){const r=e.slice();return r[18]=t[n],r}function Lt(e,t,n){const r=e.slice();return r[21]=t[n],r}function Rt(e,t,n){const r=e.slice();return r[24]=t[n],r}function Et(e,t,n){const r=e.slice();return r[21]=t[n],r}function Ct(e,t){let n,r=t[21].party+"",i,o;return{key:e,first:null,c(){n=q("text"),i=De(r),_(n,"x","10"),_(n,"y",o=t[6].top+t[4](t[21].y+H)),_(n,"alignment-baseline","middle"),_(n,"fill",pn),this.first=n},m(a,l){W(a,n,l),G(n,i)},p(a,l){t=a,l&16&&o!==(o=t[6].top+t[4](t[21].y+H))&&_(n,"y",o)},d(a){a&&z(n)}}}function Pt(e,t){let n,r=t[24].label+"",i,o,a,l,f,s;return{key:e,first:null,c(){n=q("text"),i=De(r),l=q("rect"),_(n,"x",o=t[6].left+t[3](t[24].value)),_(n,"y",a=t[6].top+t[2]+Ot),_(n,"fill",pn),_(n,"text-anchor","middle"),_(l,"x",f=t[6].left+t[3](t[24].value)),_(l,"y",s=t[6].top+t[2]),_(l,"width","1"),_(l,"height",di),_(l,"fill",hn),this.first=n},m(c,u){W(c,n,u),G(n,i),W(c,l,u)},p(c,u){t=c,u&8&&o!==(o=t[6].left+t[3](t[24].value))&&_(n,"x",o),u&4&&a!==(a=t[6].top+t[2]+Ot)&&_(n,"y",a),u&8&&f!==(f=t[6].left+t[3](t[24].value))&&_(l,"x",f),u&4&&s!==(s=t[6].top+t[2])&&_(l,"y",s)},d(c){c&&(z(n),z(l))}}}function Dt(e,t){let n,r,i,o;return{key:e,first:null,c(){n=q("rect"),_(n,"x",r=t[3](t[21].value)),_(n,"y",i=t[4](t[21].y+H*25)),_(n,"width","3"),_(n,"height",o=t[4](t[21].y-H*25)-t[4](t[21].y+H*25)),_(n,"fill",t[9][t[21].color]),this.first=n},m(a,l){W(a,n,l)},p(a,l){t=a,l&8&&r!==(r=t[3](t[21].value))&&_(n,"x",r),l&16&&i!==(i=t[4](t[21].y+H*25))&&_(n,"y",i),l&16&&o!==(o=t[4](t[21].y-H*25)-t[4](t[21].y+H*25))&&_(n,"height",o)},d(a){a&&z(n)}}}function It(e,t){let n,r,i,o,a,l,f,s;function c(){return t[10](t[18])}function u(){return t[11](t[18])}return{key:e,first:null,c(){n=q("circle"),_(n,"role","log"),_(n,"cx",r=t[18].x),_(n,"cy",i=t[18].y),_(n,"r",o=t[7](t[18].weight)),_(n,"fill",a=t[9][t[18].color]),_(n,"fill-opacity",gi),_(n,"stroke",l=t[9][t[18].color]),_(n,"stroke-opacity",mi),_(n,"stroke-width","1"),this.first=n},m(h,g){W(h,n,g),f||(s=[ot(n,"mouseover",c),ot(n,"focus",u)],f=!0)},p(h,g){t=h,g&32&&r!==(r=t[18].x)&&_(n,"cx",r),g&32&&i!==(i=t[18].y)&&_(n,"cy",i),g&32&&o!==(o=t[7](t[18].weight))&&_(n,"r",o),g&32&&a!==(a=t[9][t[18].color])&&_(n,"fill",a),g&32&&l!==(l=t[9][t[18].color])&&_(n,"stroke",l)},d(h){h&&z(n),f=!1,ne(s)}}}function pi(e){let t,n,r=[],i=new Map,o,a=[],l=new Map,f,s,c,u=[],h=new Map,g,m=[],d=new Map,x=j(be);const y=p=>p[21].id;for(let p=0;p<x.length;p+=1){let w=Et(e,x,p),v=y(w);i.set(v,r[p]=Ct(v,w))}let b=j(e[8]);const $=p=>p[24].id;for(let p=0;p<b.length;p+=1){let w=Rt(e,b,p),v=$(w);l.set(v,a[p]=Pt(v,w))}let N=j(be);const A=p=>p[21].id;for(let p=0;p<N.length;p+=1){let w=Lt(e,N,p),v=A(w);h.set(v,u[p]=Dt(v,w))}let L=j(e[5]);const k=p=>p[18].id;for(let p=0;p<L.length;p+=1){let w=St(e,L,p),v=k(w);d.set(v,m[p]=It(v,w))}return{c(){t=He("div"),n=q("svg");for(let p=0;p<r.length;p+=1)r[p].c();o=it();for(let p=0;p<a.length;p+=1)a[p].c();f=q("rect"),c=q("g");for(let p=0;p<u.length;p+=1)u[p].c();g=it();for(let p=0;p<m.length;p+=1)m[p].c();_(f,"x",e[6].left),_(f,"y",s=e[6].top+e[2]),_(f,"height","1"),_(f,"width",e[1]),_(f,"fill",hn),_(c,"id","plotarea"),_(c,"transform","translate("+e[6].left+", "+e[6].top+")"),_(n,"class","svelte-1lpgc09"),_(t,"id","container"),_(t,"class","svelte-1lpgc09")},m(p,w){W(p,t,w),G(t,n);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(n,null);G(n,o);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(n,null);G(n,f),G(n,c);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(c,null);G(c,g);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(c,null);e[12](t)},p(p,[w]){w&80&&(x=j(be),r=we(r,w,y,1,p,x,i,n,ye,Ct,o,Et)),w&332&&(b=j(p[8]),a=we(a,w,$,1,p,b,l,n,ye,Pt,f,Rt)),w&4&&s!==(s=p[6].top+p[2])&&_(f,"y",s),w&2&&_(f,"width",p[1]),w&536&&(N=j(be),u=we(u,w,A,1,p,N,h,c,ye,Dt,g,Lt)),w&672&&(L=j(p[5]),m=we(m,w,k,1,p,L,d,c,ye,It,null,St))},i:J,o:J,d(p){p&&z(t);for(let w=0;w<r.length;w+=1)r[w].d();for(let w=0;w<a.length;w+=1)a[w].d();for(let w=0;w<u.length;w+=1)u[w].d();for(let w=0;w<m.length;w+=1)m[w].d();e[12](null)}}}let Tt=600;const hn="#808080",pn="#404040",Ot=20,di=4,H=.015,gi=.4,mi=1;function yi(e,t,n){let r,i=0,o={top:20,right:40,bottom:50,left:100},a=0,l=0,f=ie().domain([0,.5]).range([0,a]),s=ie().domain([0,5.5]).range([l,0]),c=Cr().domain([0,40]).range([0,10]);const u=[{id:0,label:"0%",value:0},{id:1,label:"10%",value:.1},{id:2,label:"20%",value:.2},{id:3,label:"30%",value:.3},{id:4,label:"40%",value:.4},{id:5,label:"50%",value:.5}],h=["#8DEB9D","#80CFD6","#F09000","#149ADB","#CF4D3C"];let g=[];const m=()=>{i=r.clientWidth,n(1,a=i-o.left-o.right),n(3,f=ie().domain([0,.5]).range([0,a]))},d=()=>{n(0,r.style.height=`${Tt}px`,r),n(2,l=Tt-o.top-o.bottom),n(4,s=ie().domain([0,5.5]).range([l,0]))},x=()=>{n(5,g=hi.map(N=>({...N,x:f(N.share),y:s(N.group)}))),ui(g).force("x",ci(N=>f(N.share)).strength(1)).force("collision",Qr(N=>c(N.weight)+1)).on("tick",()=>{n(5,g=[...g])})};_n(()=>{m(),d(),x();const N=()=>{m(),x()};return window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}});const y=N=>console.log(N),b=N=>console.log(N);function $(N){qe[N?"unshift":"push"](()=>{r=N,n(0,r)})}return[r,a,l,f,s,g,o,c,u,h,y,b,$]}class wi extends Wt{constructor(t){super(),Bt(this,t,yi,pi,Ht,{})}}function xi(e){let t,n,r,i,o;return i=new wi({}),{c(){t=He("main"),n=He("h1"),n.textContent="Beeswarm plot of UK polls",r=yn(),An(i.$$.fragment),_(n,"class","svelte-gjglr0")},m(a,l){W(a,t,l),G(t,n),G(t,r),zt(i,t,null),o=!0},p:J,i(a){o||(Ve(i.$$.fragment,a),o=!0)},o(a){$n(i.$$.fragment,a),o=!1},d(a){a&&z(t),Ft(i)}}}class _i extends Wt{constructor(t){super(),Bt(this,t,null,xi,Ht,{})}}new _i({target:document.getElementById("app")});
